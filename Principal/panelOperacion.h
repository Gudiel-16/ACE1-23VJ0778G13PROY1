char teclaToLR = ' ';

char teclasToLR[4][3] = { { '1', '2', '3' },
                      { '4', '5', '6' },
                      { '7', '8', '9' },
                      { '*', '0', '#' } };

byte caracteresTecladoLedToLR[30][8] {
    {B00000000, B00111100, B01000010, B01111110, B01000010, B01000010, B01000010, B00000000}, // A
    {B00000000, B01111100, B01000010, B01111100, B01111100, B01000010, B01111100, B00000000}, // B
    {B00000000, B01111110, B01000000, B01000000, B01000000, B01000000, B01111110, B00000000}, // C
    {B00000000, B01111000, B01000100, B01000010, B01000010, B01000100, B01111000, B00000000}, // D
    {B00000000, B01111110, B01000000, B01111110, B01000000, B01000000, B01111110, B00000000}, // E
    {B00000000, B01111110, B01000000, B01111110, B01000000, B01000000, B01000000, B00000000}, // F
    {B00000000, B01111110, B01000000, B01000000, B01001110, B01000010, B01111110, B00000000}, // G
    {B00000000, B01000010, B01000010, B01111110, B01000010, B01000010, B01000010, B00000000}, // H
    {B00000000, B01111110, B00011000, B00011000, B00011000, B00011000, B01111110, B00000000}, // I
    {B00000000, B01111110, B00001000, B00001000, B00001000, B01001000, B00111000, B00000000}, // J
    {B00000000, B01100110, B01101000, B01110000, B01111000, B01100100, B01100110, B00000000}, // K
    {B00000000, B01000000, B01000000, B01000000, B01000000, B01000000, B01111110, B00000000}, // L
    {B00000000, B01100110, B01011010, B01011010, B01000010, B01000010, B01000010, B00000000}, // M
    {B00000000, B01000010, B01100010, B01010010, B01001010, B01000110, B01000010, B00000000}, // N
    {B00000000, B01111110, B01000010, B01000010, B01000010, B01000010, B01111110, B00000000}, // O
    {B00000000, B01111110, B01000010, B01111110, B01000000, B01000000, B01000000, B00000000}, // P
    {B00000000, B01111110, B01000010, B01000010, B01001010, B01000110, B01111110, B00000001}, // Q
    {B00000000, B01111110, B01000010, B01111110, B01010000, B01001000, B01000110, B00000000}, // R
    {B00000000, B01111110, B01000000, B01111110, B00000010, B00000010, B01111110, B00000000}, // S
    {B00000000, B01111110, B00011000, B00011000, B00011000, B00011000, B00011000, B00000000}, // T
    {B00000000, B01000010, B01000010, B01000010, B01000010, B01000010, B01111110, B00000000}, // U
    {B00000000, B01000100, B01000100, B01000100, B01000100, B00101000, B00010000, B00000000}, // V
    {B00000000, B01000010, B01000010, B01000010, B01011010, B01011010, B01100110, B00000000}, // W
    {B00000000, B01000010, B00100100, B00011000, B00011000, B00100100, B01000010, B00000000}, // X
    {B00000000, B01000010, B00100100, B00011000, B00011000, B00011000, B00011000, B00000000}, // Y
    {B00000000, B01111110, B00000100, B00001000, B00010000, B00100000, B01111110, B00000000}, // Z
    {B00000000, B00011000, B00100100, B00100100, B00100100, B00100100, B00011000, B00000000}, // 0
    {B00000000, B00100100, B01111110, B00100100, B00100100, B01111110, B00100100, B00000000}, // #
    {B00011000, B01111110, B01011000, B01111110, B00011010, B00011010, B01111110, B00011000}, // $
    {B00000000, B00011000, B00011000, B00011000, B00011000, B00000000, B00011000, B00000000}  // !
};

char leerTeclaToLR() {
    for (int i = 22; i <= 24; i++) { // pines superiores
        digitalWrite(i, HIGH);
        for (int j = 25; j <= 28; j++) { // pines laterales
            if (digitalRead(j) == HIGH) {
                digitalWrite(i, LOW);
                return teclasToLR[j-25][i-22];
            }
        }
        digitalWrite(i, LOW);
    }
    return ' ';
}

void mostrarCaracterToLR(int posicionMostrar, LedControl ledControl)
{
  for (int i = 0; i < 8; i++)
  {
    ledControl.setRow(0, i, caracteresTecladoLedToLR[posicionMostrar][i]);
  }
}
